date: 2020-05-16
---

# 常用转义字符

`\t` 制表符
`\n` 换行符
`\r` 回车（从头覆盖，不会换行）
`\\` \
`\"` "

# 导包

GO 的包的概念，有点像文件夹，包下面还有子包，文件下还有子文件夹，有对应关系；
如果使用 gomodules 管理项目的包，那么新建项目的时候需要执行：
```shell
go mod init
```

项目路径：
```shell
└─go_code
    ├─ex-1
    │  │  go.mod
    │  │
    │  ├─main
    │  │      hello-world.exe
    │  │      hello-world.go
    │  │
    │  └─package
    └─ex-2
```

go.mod 文件内容：
```mod
module go_code/ex-1

go 1.14
```
```go
package main
// 方法一
import "fmt"
import "math/rand"

func printRand() {
    fmt.Println(rand.Intn(10))
}
```
```go
package main
import (
    "fmt"
    "math"
)
func getPi() {
    fmt.Println(math.Pi)
}
```

# 函数

```go
// 省略

// 1. 下面两个函数功能是一样的
func foo1(x, y int) int {
    return 1
}

func foo2(x int, y int) int {
    return 2
}

// 2. 返回多值
func foo3(x int, y int) (string, string) {
    if (x > y)
        reurn "bigger", "smaller"
    else
        return "smaller", "bigger"
}

// 3. 命名返回值，这样 return 就不需要省略返回对象了
func foo4(x, y int) (sum int) {
    sum = x + y
    return
}
```

# 变量

```go
// 4. 声明量
// 类型声明在后面
var x int
// 变量列表
var a, b int = 1, 2
// 类型省略
var c, cpp, java, python = 1, "2", true, false
// 短变量声明，注意该方法只能在函数内使用，函数外的声明语句必须在关键字后面
k := 3
// 分组的方式定义
var (
    x_11, x_12, x_13 = 1, 2, 3
    x_21, x_22, x_23 = 4, 5, 6
    x_31, x_32, x_33 = 7, 8, 9
)
// 未指定初始值的变量值为零值
var a int // 0
var b string // ""
var c bool // false
// 类型转换，只能显式转换
var i int = 42
var f float = float(i)
var u uint = uint(f)
// 类型推导，未定义类型的数据，类型由右值决定，取决于精度
i := 42           // int
f := 3.142        // float64
g := 0.867 + 0.5i // complex128
// 声明常量，不能使用 := 定义
const Pi = 3.14
const world = "世界"
const yes = true
// 数值常量
const (
    // float
    Big = 1 << 100 // 1000....00 左移位运算符 相当于二进制 1后面跟了 100 个零
    // 类型未定 int 还是 float 由上下文决定
    Small = Big >> 99 // (10)2 = (2)10 左移运算符
)
func needInt(x int) int { return x*10 + 1 }
func needFloat(x float64) float64 {
	return x * 0.1
}

needInt(Small) // int
needFloat(Small) // float
```

# 基本类型
`bool` `string` 
`int` `int8` `int16` `int32` `int64`
`uint` `uint8` `uint16` `uint32` `uint64` `uintptr`
`byte` // uint8 的别名
`rune` // int32 的别名 表示一个 unicode 码点
`float32` `float64` 
`complex32` `complex64`
`int`, `uint` 和 `uintptr` 在 32 位系统上通常为 32 位宽，在 64 位系统上则为 64 位宽。 当你需要一个整数值时应使用 `int` 类型，除非你有特殊的理由使用固定大小或无符号的整数类型。

# 流程控制语句

```go
// 循环，定义的量作用域在大括号内
for i := 0; i < 10; i++ {
    sum += i;
}

// 省略初始化和后置语句
sum := 1
for ; sum < 1000 ; {
    sum += sum
}

// 上面这种情况可以去掉分号
sum := 1
for sum < 1000 {
    sum += sum
}

// 无限循环
sum := 1
for {
    fmt.Println("I can't get out!")
}
```

```go
// 条件判断
// 简单的 if 语句
x int = 10
if x > 5 {
    fmt.Println("bigger than 5")
}

// 执行一个简短的语句在判断，作用域在大括号内
if v := math.Pow(x, n); v < lim {
    return v
}
return lim

// 如果有 else 那么 else 块中也能使用
if v := math.Pow(x, n); v < lim {
    return v
}
else {
    fmt.Printf("%g >= %g\n", v, lim)
}

// switch 判断
// 1. 注意 Golang 的 switch 不需要 break（已经自动添加了）
// 2. 如果要求执行后面的每个 case ，就以 fallthrough 结束
// 3. case 无需为常量，取值也无需为整数
switch os := runtime.GOOS; os {
    case "darwins":
        fmt.Println("OS X.")
    case "linux":
        fmt.Println("Linux")
    default:
        // freebsd, openbsd,
        // plan9, windows...
        fmt.Printf("%s.\n", os)
}

```

